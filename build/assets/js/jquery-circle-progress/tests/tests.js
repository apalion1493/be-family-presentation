!function(){function s(e){var i=$("#qunit-fixture");return i[0]||(i=$("body")),$("<span>").appendTo(i).circleProgress(e)}QUnit.module("Layout tests, no animation"),QUnit.test("Test circle with value = 0 (without any options)",function(e){var i=s({value:0}).circleProgress("widget"),l=$(i),a=100,t=parseInt(a/14);e.equal($.circleProgress.defaults.size,a,"Default circle size: 100 pixels"),e.equal($.circleProgress.defaults.thickness,"auto","Default circle thickness: 'auto' (i.e. 1/14 of size)"),e.equal(i.tagName.toLowerCase(),"canvas","Method .circleProgress('widget') returns HTMLCanvasElement"),e.equal(l.width(),a,"Default width: 100 pixels"),e.equal(l.height(),a,"Default height: 100 pixels"),e.pixelCloseRGBA(i,0,50,"rgba(0, 0, 0, 0.1)"),e.pixelCloseRGBA(i,t-1,50,"rgba(0, 0, 0, 0.1)"),e.pixelRGBA(i,t+1,50,"rgba(0, 0, 0, 0)")}),QUnit.test("Test circle with value = 0.5 and default fill",function(e){var i=s({value:.5,animation:!1}).circleProgress("widget"),l=$.circleProgress.defaults.size;e.pixelCloseHex(i,1,l/2-1,"#3aeabb"),e.pixelCloseRGBA(i,1,l/2+1,"rgba(0, 0, 0, 0.1)"),e.pixelCloseHex(i,l-1,l/2-1,"#fdd250"),e.pixelCloseRGBA(i,l-1,l/2+1,"rgba(0, 0, 0, 0.1)"),e.pixelCloseHex(i,l/2,1,"#9ade85"),e.pixelRGBA(i,l/2,8,"rgba(0, 0, 0, 0)"),e.pixelCloseRGBA(i,l/2,l-1,"rgba(0, 0, 0, 0.1)"),e.pixelRGBA(i,l/2,l-9,"rgba(0, 0, 0, 0)")}),QUnit.test("Test circle with value = 0.5 and solid fill",function(e){var i="#ff0000",l=s({value:.5,fill:{color:i},animation:!1}).circleProgress("widget"),a=$.circleProgress.defaults.size;e.pixelHex(l,1,a/2-1,i),e.pixelHex(l,a-1,a/2-1,i)}),QUnit.module("Layout tests with animation"),QUnit.test("Test circle with value = 0.5 and solid fill",function(e){var i="#00aa55",l=s({value:0,animation:!1,fill:{color:i}}),a=l.circleProgress("widget"),t=$.circleProgress.defaults.size,r=e.async();e.expect(10),e.pixelCloseRGBA(a,1,t/2-1,"rgba(0, 0, 0, 0.1)"),e.pixelCloseRGBA(a,1,t/2+1,"rgba(0, 0, 0, 0.1)"),e.pixelCloseRGBA(a,t/2+1,1,"rgba(0, 0, 0, 0.1)"),e.pixelCloseRGBA(a,t-2,t/2-1,"rgba(0, 0, 0, 0.1)"),e.pixelCloseRGBA(a,t-2,t/2+1,"rgba(0, 0, 0, 0.1)"),l.on("circle-animation-end",function(){e.pixelHex(a,1,t/2-1,i),e.pixelCloseRGBA(a,1,t/2+1,"rgba(0, 0, 0, 0.1)"),e.pixelHex(a,t/2+1,1,i),e.pixelHex(a,t-2,t/2-1,i),e.pixelCloseRGBA(a,t-2,t/2+1,"rgba(0, 0, 0, 0.1)"),r()}),l.circleProgress({value:.5,animation:{duration:500}})}),QUnit.test("Test circle with value = 0.5, size = 80 and custom gradient",function(e){var i=s({value:0,animation:!1,size:80,fill:{gradient:["#ff327a","#fff430","#ff8989"]}}),l=i.circleProgress("widget"),a=e.async();e.expect(10),e.pixelCloseRGBA(l,1,39,"rgba(0, 0, 0, 0.1)"),e.pixelCloseRGBA(l,1,41,"rgba(0, 0, 0, 0.1)"),e.pixelCloseRGBA(l,40,1,"rgba(0, 0, 0, 0.1)"),e.pixelCloseRGBA(l,78,39,"rgba(0, 0, 0, 0.1)"),e.pixelCloseRGBA(l,78,41,"rgba(0, 0, 0, 0.1)"),i.on("circle-animation-end",function(){e.pixelCloseHex(l,1,39,"#ff3777"),e.pixelCloseRGBA(l,1,41,"rgba(0, 0, 0, 0.1)"),e.pixelCloseHex(l,40,1,"#fff330"),e.pixelCloseHex(l,78,39,"#ff8c86"),e.pixelCloseRGBA(l,78,41,"rgba(0, 0, 0, 0.1)"),a()}),i.circleProgress({value:.5,animation:{duration:500}})}),QUnit.test("Test circle with value = 0.75, custom start angle and custom animation start value",function(e){var i=s({value:0,animation:!1,startAngle:-Math.PI/4,animationStartValue:.25}),l=i.circleProgress("widget"),a=e.async();e.expect(12),e.pixelCloseRGBA(l,15,20,"rgba(0, 0, 0, 0.1)"),e.pixelCloseRGBA(l,20,15,"rgba(0, 0, 0, 0.1)"),e.pixelCloseRGBA(l,80,15,"rgba(0, 0, 0, 0.1)"),e.pixelCloseRGBA(l,80,85,"rgba(0, 0, 0, 0.1)"),e.pixelCloseRGBA(l,85,20,"rgba(0, 0, 0, 0.1)"),e.pixelCloseRGBA(l,85,80,"rgba(0, 0, 0, 0.1)"),i.on("circle-animation-end",function(){e.pixelCloseHex(l,15,20,"#57e6aa"),e.pixelCloseRGBA(l,20,15,"rgba(0, 0, 0, 0.1)"),e.pixelCloseRGBA(l,80,15,"rgba(0, 0, 0, 0.1)"),e.pixelCloseHex(l,80,85,"#d6d664"),e.pixelCloseHex(l,85,20,"#e0d55f"),e.pixelCloseHex(l,85,80,"#e0d55f"),a()}),i.circleProgress({value:.75,animation:{duration:500}})}),QUnit.test("Test circle with value = 0.5, image background and reverse",function(l){var e=$('script[src*="tests.js"]').attr("src").replace(/tests\.js.*$/,"")+"images/circle.png",a=new Image,t=l.async();l.expect(12),a.src=e,$(a).on("load",function(){var e=s({value:0,animation:!1,thickness:20,fill:{image:a},reverse:!0}),i=e.circleProgress("widget");l.pixelRGBA(i,21,49,"rgba(0, 0, 0, 0)"),l.pixelRGBA(i,78,49,"rgba(0, 0, 0, 0)"),l.pixelRGBA(i,49,77,"rgba(0, 0, 0, 0)"),l.pixelCloseRGBA(i,17,51,"rgba(0, 0, 0, 0.1)"),l.pixelCloseRGBA(i,49,81,"rgba(0, 0, 0, 0.1)"),l.pixelCloseRGBA(i,81,51,"rgba(0, 0, 0, 0.1)"),e.on("circle-animation-end",function(){l.pixelRGBA(i,21,49,"rgba(0, 0, 0, 0)"),l.pixelRGBA(i,78,49,"rgba(0, 0, 0, 0)"),l.pixelRGBA(i,49,77,"rgba(0, 0, 0, 0)"),l.pixelCloseHex(i,17,51,"#00f7ff"),l.pixelCloseHex(i,49,81,"#7700ff"),l.pixelCloseHex(i,81,51,"#ff0008"),t()}),e.circleProgress({value:.5,animation:{duration:500}})})}),QUnit.test("Test correct rendering on Retina displays",function(e){window.devicePixelRatio=2;var i=s({value:.75,size:50}).circleProgress("widget");e.equal(50,$(i).width()),e.equal(100,i.width)}),QUnit.test("Test correct rendering on regular pixel density",function(e){window.devicePixelRatio=1;var i=s({value:.75,size:50}).circleProgress("widget");e.equal(50,$(i).height()),e.equal(50,i.width)})}();