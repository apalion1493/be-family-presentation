!function(){function i(t,n,e,r,a,s,i,l,u){var o=window.devicePixelRatio||1,c=t.getContext("2d").getImageData(Math.round(n*o),Math.round(e*o),1,1).data,h=i(r),p=l(c);a=a||0;var f=Math.max(Math.abs(c[0]-h[0])/255,Math.abs(c[1]-h[1])/255,Math.abs(c[2]-h[2])/255,u?0:Math.abs(c[3]-h[3])/255),b=f<=a;s||(s="Pixel color at "+n+"Ã—"+e+" should be ",s+=a?"close to "+r:"equal to "+r,b||(s+=". Actual color: "+p,s+=a?". Actual diff: "+f.toFixed(6)+". Expected diff: "+a:"")),this.push(b,p,r,s)}function l(t){return t=t.replace(/^rgba\(|\s+|\)$/gi,"").split(","),[parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10),255*t[3]]}function u(t){return"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]/255+")"}function o(t){return t=t.replace(/[#\s]/gi,""),[parseInt(t.substr(0,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(4,2),16),255]}function c(t){var n="0"+t[0].toString(16),e="0"+t[1].toString(16),r="0"+t[2].toString(16);return"#"+(n=n.substr(n.length-2))+(e=e.substr(e.length-2))+(r=r.substr(r.length-2))}QUnit.extend(QUnit.assert,{pixelRGBA:function(t,n,e,r,a){return i.call(this,t,n,e,r,0,a,l,u)},pixelHex:function(t,n,e,r,a){return i.call(this,t,n,e,r,0,a,o,c,!0)},pixelCloseRGBA:function(t,n,e,r,a,s){return null==a&&(a=.01),i.call(this,t,n,e,r,a,s,l,u)},pixelCloseHex:function(t,n,e,r,a,s){return null==a&&(a=.015),i.call(this,t,n,e,r,a,s,o,c,!0)}})}();